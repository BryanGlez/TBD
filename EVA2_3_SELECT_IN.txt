Microsoft Windows [VersiÃ³n 10.0.22621.4317]
(c) Microsoft Corporation. Todos los derechos reservados.

C:\Users\bryan>cd C:\Program Files\MySQL\MySQL Workbench 8.0

C:\Program Files\MySQL\MySQL Workbench 8.0>mysql --local-infile=1 -u root -p
Enter password: ****
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 10
Server version: 8.0.43 MySQL Community Server - GPL

Copyright (c) 2000, 2025, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| credit_cards       |
| human_resources    |
| information_schema |
| mysql              |
| performance_schema |
| prueba             |
| sakila             |
| sys                |
| world              |
+--------------------+
9 rows in set (0.00 sec)

mysql> use prueba;
Database changed
mysql> show tables;
+------------------+
| Tables_in_prueba |
+------------------+
| asignatura       |
| clientes         |
| detallehorario   |
| empleados        |
| empleados_raw    |
| estudiante       |
| horario          |
| producto         |
| venta            |
| ventadetalle     |
+------------------+
10 rows in set (0.00 sec)

mysql> show create horario;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'horario' at line 1
mysql> show create table horario;
+---------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table   | Create Table                                        |
+---------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| horario | CREATE TABLE `horario` (
  `idhorario` int NOT NULL AUTO_INCREMENT,
  `idestudiante` int NOT NULL,
  PRIMARY KEY (`idhorario`),
  KEY `idestudiante` (`idestudiante`),
  CONSTRAINT `horario_ibfk_1` FOREIGN KEY (`idestudiante`) REFERENCES `estudiante` (`idestudiante`) ON DELETE RESTRICT ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+---------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.01 sec)

mysql> alter table horario
    -> drop constraint horario_ibfk_1;
Query OK, 0 rows affected (0.03 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> alter table horario
    -> add constraint foreing key (idestudiante)
    -> references estudiante(idestudiante)
    -> on delete cascade
    -> on update cascade;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'key (idestudiante)
references estudiante(idestudiante)
on delete cascade
on upda' at line 2
mysql> alter table horario
    -> add constraint foreign key (idestudiante)
    -> references estudiante(idestudiante)
    -> on delete cascade
    -> on update cascade;
Query OK, 3 rows affected (0.08 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> show create table detallehorario;
+----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table          | Create Table       |
+----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| detallehorario | CREATE TABLE `detallehorario` (
  `iddethorario` int NOT NULL AUTO_INCREMENT,
  `idhorario` int NOT NULL,
  `idasignatura` int NOT NULL,
  PRIMARY KEY (`iddethorario`),
  KEY `idhorario` (`idhorario`),
  KEY `idasignatura` (`idasignatura`),
  CONSTRAINT `detallehorario_ibfk_1` FOREIGN KEY (`idhorario`) REFERENCES `horario` (`idhorario`) ON DELETE RESTRICT ONUPDATE CASCADE,
  CONSTRAINT `detallehorario_ibfk_2` FOREIGN KEY (`idasignatura`) REFERENCES `asignatura` (`idasignatura`) ON DELETE RESTRICT ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> alter table detallehorario
    -> drop constraint detallehorario_ibfk_1;
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> alter table detallehorario
    -> add constraint foreign key (idhorario)
    -> references horario(idhorario)
    -> on delete cascade
    -> on update cascade;
Query OK, 0 rows affected (0.08 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> alter table detallehorario
    -> drop constraint detallehorario_ibfk_2;
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> alter table detallehorario
    -> add constraint foreign key (idasignatura)
    -> references asignatura(idasignatura)
    -> on delete cascade
    -> on update cascade;
Query OK, 0 rows affected (0.07 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> show create table detallehorario;
+----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table          | Create Table     |
+----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| detallehorario | CREATE TABLE `detallehorario` (
  `iddethorario` int NOT NULL AUTO_INCREMENT,
  `idhorario` int NOT NULL,
  `idasignatura` int NOT NULL,
  PRIMARY KEY (`iddethorario`),
  KEY `idhorario` (`idhorario`),
  KEY `idasignatura` (`idasignatura`),
  CONSTRAINT `detallehorario_ibfk_3` FOREIGN KEY (`idhorario`) REFERENCES `horario` (`idhorario`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `detallehorario_ibfk_4` FOREIGN KEY (`idasignatura`) REFERENCES `asignatura` (`idasignatura`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> select * from asignatura;
Empty set (0.00 sec)

mysql> select * from estudiante;
+--------------+-----------------+------------+
| idestudiante | nombre          | fecha_nac  |
+--------------+-----------------+------------+
|            2 | Michelle Tellez | 2003-10-02 |
|            3 | Juan Mota       | 2004-08-10 |
|           10 | Bryan Gonzalez  | 2001-07-18 |
+--------------+-----------------+------------+
3 rows in set (0.00 sec)

mysql> desc asignatura;
+--------------+-------------+------+-----+---------+----------------+
| Field        | Type        | Null | Key | Default | Extra          |
+--------------+-------------+------+-----+---------+----------------+
| idasignatura | int         | NO   | PRI | NULL    | auto_increment |
| nombre       | varchar(50) | NO   |     | NULL    |                |
| creditos     | int         | NO   |     | NULL    |                |
+--------------+-------------+------+-----+---------+----------------+
3 rows in set (0.01 sec)

mysql> select * from horario;
+-----------+--------------+
| idhorario | idestudiante |
+-----------+--------------+
|         2 |            2 |
|         3 |            3 |
|         1 |           10 |
+-----------+--------------+
3 rows in set (0.00 sec)

mysql> select * from detallehorario;
Empty set (0.00 sec)

mysql> delete from estudiante
    -> where idestudiante = 2;
Query OK, 1 row affected (0.01 sec)

mysql> select * from estudiante;
+--------------+----------------+------------+
| idestudiante | nombre         | fecha_nac  |
+--------------+----------------+------------+
|            3 | Juan Mota      | 2004-08-10 |
|           10 | Bryan Gonzalez | 2001-07-18 |
+--------------+----------------+------------+
2 rows in set (0.00 sec)

mysql> use sakila;
Database changed
mysql> show tables;
+----------------------------+
| Tables_in_sakila           |
+----------------------------+
| actor                      |
| actor_info                 |
| address                    |
| category                   |
| city                       |
| country                    |
| customer                   |
| customer_list              |
| film                       |
| film_actor                 |
| film_category              |
| film_list                  |
| film_text                  |
| inventory                  |
| language                   |
| nicer_but_slower_film_list |
| payment                    |
| rental                     |
| sales_by_film_category     |
| sales_by_store             |
| staff                      |
| staff_list                 |
| store                      |
+----------------------------+
23 rows in set (0.00 sec)

mysql> use prueba;
Database changed
mysql> show tables;
+------------------+
| Tables_in_prueba |
+------------------+
| asignatura       |
| clientes         |
| detallehorario   |
| empleados        |
| empleados_raw    |
| estudiante       |
| horario          |
| producto         |
| venta            |
| ventadetalle     |
+------------------+
10 rows in set (0.00 sec)

mysql> select * from venta;
+---------+------------+----+
| idventa | fecha      | id |
+---------+------------+----+
|       3 | 2025-09-18 |  2 |
|       4 | 2025-09-19 |  3 |
+---------+------------+----+
2 rows in set (0.00 sec)

mysql> select * from cliente;
ERROR 1146 (42S02): Table 'prueba.cliente' doesn't exist
mysql> select * from clientes;
+----+--------+---------------+
| id | nombre | rfc           |
+----+--------+---------------+
|  2 | Pepe   | 2342342342344 |
|  3 | Aldo   | 5675675675677 |
|  4 | Bryan  | 7897897897898 |
|  5 | Sonti  | 7343457523481 |
+----+--------+---------------+
4 rows in set (0.00 sec)

mysql> insert into clientes(nombre, rfc)
    -> value("Juan","ASDASDAD12D1");
Query OK, 1 row affected (0.01 sec)

mysql> select * from clientes;
+----+--------+---------------+
| id | nombre | rfc           |
+----+--------+---------------+
|  2 | Pepe   | 2342342342344 |
|  3 | Aldo   | 5675675675677 |
|  4 | Bryan  | 7897897897898 |
|  5 | Sonti  | 7343457523481 |
|  6 | Juan   | ASDASDAD12D1  |
+----+--------+---------------+
5 rows in set (0.00 sec)

mysql> select * from ventadetalle;
+----------------+---------+------------+----------+
| idventadetalle | idventa | idproducto | cantidad |
+----------------+---------+------------+----------+
|              1 |       3 |          1 |        1 |
|              2 |       4 |          3 |        2 |
+----------------+---------+------------+----------+
2 rows in set (0.00 sec)

mysql> select * from venta;
+---------+------------+----+
| idventa | fecha      | id |
+---------+------------+----+
|       3 | 2025-09-18 |  2 |
|       4 | 2025-09-19 |  3 |
+---------+------------+----+
2 rows in set (0.00 sec)

mysql> select * from clientes;
+----+--------+---------------+
| id | nombre | rfc           |
+----+--------+---------------+
|  2 | Pepe   | 2342342342344 |
|  3 | Aldo   | 5675675675677 |
|  4 | Bryan  | 7897897897898 |
|  5 | Sonti  | 7343457523481 |
|  6 | Juan   | ASDASDAD12D1  |
+----+--------+---------------+
5 rows in set (0.00 sec)

mysql> select * from clientes
    -> where idcliente in (select idcliente from venta)
    -> ;
ERROR 1054 (42S22): Unknown column 'idcliente' in 'IN/ALL/ANY subquery'
mysql> select * from clientes
    -> where idcliente in (select idcliente from venta);
ERROR 1054 (42S22): Unknown column 'idcliente' in 'IN/ALL/ANY subquery'
mysql> select * from clientes
    -> where idclientes in (select idclientes from venta);
ERROR 1054 (42S22): Unknown column 'idclientes' in 'IN/ALL/ANY subquery'
mysql> desc clientes;
+--------+-------------+------+-----+---------+----------------+
| Field  | Type        | Null | Key | Default | Extra          |
+--------+-------------+------+-----+---------+----------------+
| id     | int         | NO   | PRI | NULL    | auto_increment |
| nombre | varchar(50) | NO   |     | NULL    |                |
| rfc    | varchar(13) | NO   |     | NULL    |                |
+--------+-------------+------+-----+---------+----------------+
3 rows in set (0.00 sec)

mysql> select * from clientes
    -> where id in (select id from venta);
+----+--------+---------------+
| id | nombre | rfc           |
+----+--------+---------------+
|  2 | Pepe   | 2342342342344 |
|  3 | Aldo   | 5675675675677 |
+----+--------+---------------+
2 rows in set (0.00 sec)

mysql> select id from venta;
+----+
| id |
+----+
|  2 |
|  3 |
+----+
2 rows in set (0.00 sec)

mysql> select distinct id from venta;
+----+
| id |
+----+
|  2 |
|  3 |
+----+
2 rows in set (0.00 sec)

mysql> select * from clientes
    -> where id in
    -> (select distinct id from venta);
+----+--------+---------------+
| id | nombre | rfc           |
+----+--------+---------------+
|  2 | Pepe   | 2342342342344 |
|  3 | Aldo   | 5675675675677 |
+----+--------+---------------+
2 rows in set (0.00 sec)

mysql> select * from clientes
    -> where id not in
    -> (select distinct id from venta);
+----+--------+---------------+
| id | nombre | rfc           |
+----+--------+---------------+
|  4 | Bryan  | 7897897897898 |
|  5 | Sonti  | 7343457523481 |
|  6 | Juan   | ASDASDAD12D1  |
+----+--------+---------------+
3 rows in set (0.00 sec)

mysql> select * from ventadetalle;
+----------------+---------+------------+----------+
| idventadetalle | idventa | idproducto | cantidad |
+----------------+---------+------------+----------+
|              1 |       3 |          1 |        1 |
|              2 |       4 |          3 |        2 |
+----------------+---------+------------+----------+
2 rows in set (0.00 sec)

mysql> desc producto;
+------------+--------------+------+-----+---------+----------------+
| Field      | Type         | Null | Key | Default | Extra          |
+------------+--------------+------+-----+---------+----------------+
| idproducto | int          | NO   | PRI | NULL    | auto_increment |
| nombre     | varchar(50)  | NO   |     | NULL    |                |
| precio     | decimal(8,2) | NO   |     | NULL    |                |
+------------+--------------+------+-----+---------+----------------+
3 rows in set (0.00 sec)

mysql> select * from producto where idproducto in (select distinct idproducto from ventadetalle);
+------------+---------+----------+
| idproducto | nombre  | precio   |
+------------+---------+----------+
|          1 | Celular |  1500.00 |
|          3 | Laptop  | 20000.99 |
+------------+---------+----------+
2 rows in set (0.00 sec)

mysql> select * from producto where idproducto not in (select distinct idproducto from ventadetalle);
+------------+--------+----------+
| idproducto | nombre | precio   |
+------------+--------+----------+
|          2 | TV     | 16999.99 |
+------------+--------+----------+
1 row in set (0.00 sec)

mysql> select count(*) from producto where idproducto not in (select distinct idproducto from ventadetalle);
+----------+
| count(*) |
+----------+
|        1 |
+----------+
1 row in set (0.00 sec)

mysql> select count(*) from producto where idproducto in (select distinct idproducto from ventadetalle);
+----------+
| count(*) |
+----------+
|        2 |
+----------+
1 row in set (0.00 sec)

mysql>
